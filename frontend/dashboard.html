<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Dashboard - SafeRide</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="config.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  try {
    const res = await fetch(`${BACKEND_URL}/api/attendance`);
    const data = await res.json();

    const tbody = document.getElementById('attendance-body');
    tbody.innerHTML = '';
    data.forEach(record => {
      const tr = document.createElement('tr');
      tr.classList.add('border-b');
      tr.innerHTML = `
        <td class="p-2">${record.name}</td>
        <td class="p-2">${record.class}</td>
        <td class="p-2">${record.bus}</td>
        <td class="p-2">${record.status}</td>
      `;
      tbody.appendChild(tr);
    });
  } catch (err) {
    console.error('Error fetching data:', err);
  }
});
</script>
</head>
<body class="bg-gray-100 p-6">
<h1 class="text-3xl font-bold mb-6 text-center">Teacher Dashboard</h1>
<div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-6">
<table class="w-full border-collapse">
  <thead>
    <tr class="bg-gray-200">
      <th class="p-2">Name</th>
      <th class="p-2">Class</th>
      <th class="p-2">Bus</th>
      <th class="p-2">Status</th>
    </tr>
  </thead>
  <tbody id="attendance-body"></tbody>
</table>
</div>
</body>
</html>
